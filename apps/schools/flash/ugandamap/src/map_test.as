package {import com.google.maps.LatLng;import com.google.maps.Map;import com.google.maps.MapEvent;import com.google.maps.MapType;import com.google.maps.controls.*;import com.google.maps.overlays.*;import com.google.maps.styles.*;import flash.display.Sprite;import flash.events.*;import flash.external.ExternalInterface;import flash.geom.*;import flash.net.*;public class map_test extends Sprite	{				var xml:XML;		var urlLoader:URLLoader = new URLLoader();		var map:Map;		public function map_test()		{			map= new Map();  //----------Google Maps API Key below-----------//			map.key = "ABQIAAAAaY4zSgrsxabXJBc58J1tqhT2yXp_ZAY8_ufC3CFXhHIE1NvwkxTr4bwfTN9unO4P0XKt5a4AFAy_Xg";			map.setSize(new Point(stage.stageWidth, stage.stageHeight));			map.addEventListener(MapEvent.MAP_READY, onMapReady);			this.addChild(map);		}function onMapReady(event:Event):void {	map.setCenter(new LatLng(1.164471, 32.453613), 6, MapType.PHYSICAL_MAP_TYPE);	map.addControl(new ZoomControl());    map.addControl(new PositionControl());	urlLoader.addEventListener(Event.COMPLETE, xmlLoaded);	urlLoader.load(new URLRequest("../xml/"));  //<-------------Place the XML URL here------//						if(ExternalInterface.available) {		ExternalInterface.addCallback("receiveNotification",receiveFromJavascript);	}}function receiveFromJavascript(value:String):void {	map.clearOverlays();	var markercolor = 0x33FFCC;	var detailed = false;	if(value == "A") {		markercolor = 0x121212;		detailed =true;	}	if(value == "B") {		markercolor = 0x212121;		detailed=true;	}	createMarkers(detailed,markercolor);//	var markerOptions:MarkerOptions = new MarkerOptions({//                  strokeStyle: new StrokeStyle({color: 0x987654}),//                  fillStyle: new FillStyle({color: markercolor, alpha: 0.8}),//                  radius: 12,//                  hasShadow: true//      });////	//	var markerA:Marker = new Marker(new LatLng(1.164471, 32.453613), markerOptions);//	//	map.addOverlay(markerA);}var schools:Array;function xmlLoaded(event:Event):void {			xml = XML(event.target.data);			schools = new Array();            createMarkers(false,0x33FFCC);}function createMarkers(detail:Boolean, markercolor:uint) {	var index:int = 0;	for each(var i:XML in xml.School) {		var c:uint = 0x66FFCC;		var inverse:uint = 0xFFFFFF - markercolor;		var usecolor:uint;		if(!detail) {			usecolor = markercolor;		} else {			usecolor = ((i.@latitude*1000000) % 10)*markercolor;			usecolor = 0x00FFFF & usecolor;			usecolor = 0x990000 + usecolor;		}		//		var markerOptions:MarkerOptions = new MarkerOptions();//        markerOptions.icon = new CustomIcon(0x33FFCC);//        markerOptions.tooltip = i.@name;//        markerOptions.iconAlignment = MarkerOptions.ALIGN_HORIZONTAL_CENTER;//        markerOptions.iconOffset = new Point(1, 1);		var markerOptions:MarkerOptions = new MarkerOptions({                  strokeStyle: new StrokeStyle({color: 0x987654}),                  fillStyle: new FillStyle({color: usecolor, alpha: 0.8}),                  radius: 6,                  hasShadow: true      	});				var markerA:Marker = new Marker(new LatLng(i.@latitude, i.@longitude), markerOptions);	  	map.addOverlay(markerA);			}}}	}